[Install]
WantedBy=default.target

[Unit]
Description=RHTPA {{ specs.service }} Pod 
Wants=network-online.target
After=network-online.target
RequiresMountsFor=%t/containers

[Kube]
Yaml=/etc/rhtpa/manifests/Deployments/{{ specs.service }}.yaml
Network={{ specs.network | default('podman') }}
{% if specs.configmaps is defined -%}
{% for configmap in specs.configmaps %}
ConfigMap={{ configmap | default(omit) }}
{% endfor %}
{% endif -%}

[Service]
Environment=PODMAN_SYSTEMD_UNIT=%n
TimeoutStopSec=70
TimeoutStartSec=600
Type=notify
NotifyAccess=all
